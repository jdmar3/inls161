<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <script type="text/javascript">
    var host = "inls161.johndmart.in";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
  </script>
  
    
  
  <title>Tools for Information Literacy&nbsp;|&nbsp;Database software and MySQL</title>
  <meta name="description" content="Today we will jump head-first into working with databases as an extension of our discussions earlier in the week about data.  ">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
  
  <!-- Load Moment.js for dates if option set in /_data/optins.yml file-->
   
     <script type="text/javascript" src="//momentjs.com/downloads/moment.js"></script> 
    
   
  
     <script type="text/javascript" src="//storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/datejs/date.js"></script>
  
  
<link rel="stylesheet" href="/css/tufte.css"> 

  
  
<link rel="/apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
<link rel="manifest" href="/assets/img/manifest.json">
<link rel="mask-icon" href="/assets/img/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<link rel="canonical" href="https://inls161.johndmart.in/class/2017/07/20/sql-bootcamp/">

<link rel="alternate" type="application/rss+xml" title="Tools for Information Literacy" href="https://inls161.johndmart.in/feed.xml" />


    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <!-- CSS-->
    <link rel="stylesheet" href="/css/timeline.css">
    <!--FONT-->
    <link rel="stylesheet" href="/css/fonts/font.tufte.css">

    <!-- HTML5 shim, for IE6-8 support of HTML elements-->
    <!--if lt IE 9
    script(src='https://html5shim.googlecode.com/svn/trunk/html5.js')
    
    -->


</head>

  <body>
    <div class="wrap">
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="https://inls161.johndmart.in/"><img class="badge" src="https://inls161.johndmart.in/assets/img/161icon.png" alt="UNC"></a>
	
	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
  	
		
		    
		      <a href="/">Tools for Information Literacy</a>
		    
	    
  	
		
  	
		
		    
		      <a href="/syllabus/">Syllabus</a>
		    
	    
  	
		
		    
		      <a href="/schedule/">Schedule</a>
		    
	    
  	
		
  	
		
  	
		
		    
		      <a href="/quiz/">Quiz</a>
		    
	    
  	
		
		    
		      <a href="/assignments/">Assignments</a>
		    
	    
  	
		
		    
		      <a href="/refsheets/">Reference</a>
		    
	    
  	
	</nav>

</header>
    <article class="group">
      <h1>Database software and MySQL</h1>



<p class="subtitle"><span id="date">Thursday, 20 July 2017</span><span class="smaller date contrast"></span></p>

<script>
var date = document.getElementById("span")[0];
alert(p.childNodes[1].textContent)
</script>

<p>Today we will jump head-first into working with databases as an extension of our discussions earlier in the week about data.<br>
<excerpt/></p>

<p>A &quot;database&quot; is a collection of information, arranged or organized in some meaningful way so as to aid the retrieval of that information. 
The types of information stored in databases vary based on the purpose and application. </p>

<p>When we refer to databases now, we usually mean electronic databases or DataBase Management Systems (DBMS). 
However, databases can exist in a number of non-electonic forms (and have for much of human history).</p>

<p>What are some examples of non-electronic databases?</p>

<h1 id="what-goes-into-a-database">What goes into a database?</h1>

<p>Pieces of information, or objects, are stored in a database in a structured way. 
The objects are sorted into classes according to type. 
This approach is referred to as &quot;object-oriented,&quot; which we have briefly touched on over the course of the semester. </p>

<p>When data are entered into a database, each object, or chunk of information, is assigned a class that allows for sorting and recall. </p>

<h2 id="how-does-the-information-go-in">How does the information go in?</h2>

<p>There are a number of different ways to get data into a database. </p>

<p>We can import tables directly from files. 
We can also input data one at a time using an entry form. 
We will do both of these things over the next few days. </p>

<p>Today we will start by experimenting with opening the CSV we made the other day as a table. </p>

<h1 id="parts-of-a-database">Parts of a database</h1>

<h2 id="tables">Tables</h2>

<p>The basic storage template in a database is a table. </p>

<p>This is simply a set of data arranged into columns and rows. 
Just like with the data that we generated previously, the rows represent lists of information that are related to a specific thing. </p>

<p>The rows in our tables are called &quot;records.&quot;</p>

<p>The columns then represent the types of information that we are organizing. </p>

<p>Tables on their own are fine for storing a collection of data, but what if we have a lot of repeating data that we do not want to have to store over and over again in the same table?</p>

<h2 id="relationships">Relationships</h2>

<p>The primary method of reducing this sort of data is by creating more tables and then defining relationships between them. 
This is why we refer to this type of database as &quot;relational.&quot;<label for='Harkins, Susan. “Relational Databases: Defining Relationships between Database Tables.” TechRepublic. Last modified April 30, 2003. http://www.techrepublic.com/article/relational-databases-defining-relationships-between-database-tables/.<br/><br/>Harkins, Susan. “Relational Databases: The Inspiration behind the Theory.” TechRepublic. Last modified April 2, 2003. <a href="http://www.techrepublic.com/article/relational-databases-the-inspiration-behind-the-theory/">http://www.techrepublic.com/article/relational-databases-the-inspiration-behind-the-theory/</a>.<br/><br/>The whole TechRepublic series on relational databases is useful. It would be worthwhile to read all of it. &#39; class=&#39;margin-toggle sidenote-number&#39;&gt;</label><input type='checkbox' id='Harkins, Susan. “Relational Databases: Defining Relationships between Database Tables.” TechRepublic. Last modified April 30, 2003. http://www.techrepublic.com/article/relational-databases-defining-relationships-between-database-tables/.<br/><br/>Harkins, Susan. “Relational Databases: The Inspiration behind the Theory.” TechRepublic. Last modified April 2, 2003. <a href="http://www.techrepublic.com/article/relational-databases-the-inspiration-behind-the-theory/">http://www.techrepublic.com/article/relational-databases-the-inspiration-behind-the-theory/</a>.<br/><br/>The whole TechRepublic series on relational databases is useful. It would be worthwhile to read all of it. &#39; class=&#39;margin-toggle&#39;/&gt;<span class='sidenote'> </span></p>

<p>There are three categories of relationship:</p>

<ul>
<li>One-to-One: Each record in a table has only one relationship to one other record in another table</li>
<li>One-to-Many: Each record (by primary key) in a table can have zero, one, or many relationships to records in other tables. </li>
<li>Many-to-Many: Each record in a table can have any number of (or zero) relationships to records in other tables. </li>
</ul>

<p>Can you think of any examples of relationships like this? </p>

<h3 id="primary-keys">Primary Keys</h3>

<p>A primary key, as mentioned above, is a designator associated with each record that distinguishes it from all other records. 
When creating a table with a one-to-many relationship, you will need to create a primary key for each new record. </p>

<p>What are some possible pieces of existing information that might be used as a primary key?</p>

<p>What might be some problems with using an existing piece of information as a primary key?</p>

<h2 id="queries">Queries</h2>

<p>Queries take a set of instructions and use them to sort and categorize data across multiple variables and tables. </p>

<p>We will look at different possibilities for queries and try some together in class. </p>

<p>When we define relationships in the query designer, you&#39;ll notice that there are different joins available to you. </p>

<h2 id="joins">Joins</h2>

<p>These are logical inclusion/exclusion criteria for your query at the table level. 
It is a good idea to have some understanding of what they do on a logical level.<label for='joins' class='margin-toggle sidenote-number'></label><input type='checkbox' id='joins' class='margin-toggle'/><span class='sidenote'>Moffatt, C. L. “Visual Representation of SQL Joins.” CodeProject. <a href="http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins">http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins</a>.<br/><br/>This visual  guide can help you to better understand each join and what they do. </span> </p>

<p>Today, we will only use right joins in our example queries. </p>

<p>Why would we do that?</p>

<h1 id="electronic-dbms">Electronic DBMS</h1>

<p>There are myriad choices for DMBS implementations. 
A commonly used system is called MySQL, which is based in a database language called SQL (Structured Query Language). </p>

<p>You will also hear of NoSQL databases, such as MongoDB. 
These use an entirely different internal logic to store and recall data that that of SQL-based systems. </p>

<p>There are a great many front-end user interfaces for these systems. 
MSAccess has been used for years for all sorts of applications. </p>

<p>We will use the LibreOffice Base package. 
It is an open-source analog to Access and will allow us to do the same things. 
One major benefit of this is that we will be able to open our database without being locked to MSAccess. 
At present, there is no way to open an Access DB in another program. 
We wish to avoid that. </p>

<h1 id="sql-boot-camp">SQL Boot Camp</h1>

<h2 id="install-mysql">Install MySQL</h2>

<p>We will install MySQL so that we can create and explore a database using the SQL shell in our CodeAnywhere containers.</p>

<p>Destroy your container and create a new blank one.</p>

<h2 id="system-maintenance">System maintenance</h2>

<p>First update the software package repositories:</p>

<p><code>sudo apt-get update</code></p>

<p>And then just for good measure, let&#39;s clean out our package cache:</p>

<p><code>sudo apt-get autoclean &amp;&amp; sudo apt-get clean</code></p>

<h2 id="install-the-mysql-client-and-server-packages">Install the MySQL client and server packages</h2>

<p>Then we have to install one dependency, without which the install will fail:</p>

<p><code>sudo apt-get install bsdutils</code></p>

<p>Then install both the MySQL server and client packages in separate commands. </p>

<p><code>sudo apt-get install mysql-server</code></p>

<p>This will ask you to create a password for the MySQL root user. 
Since we are only trying things out today and not installing this for the purpose of running a real SQL server, just put <code>changethis</code> as the root password. </p>

<p>Then install the client:</p>

<p><code>sudo apt-get install mysql-client</code></p>

<h2 id="get-some-data">Get some data</h2>

<p>Let&#39;s download some CSV files that I prepared with a list of books in them. </p>

<p><code>wget http://inls161.johndmart.in/raw-material/tblBook.csv</code> </p>

<p><code>wget http://inls161.johndmart.in/raw-material/tblPub.csv</code></p>

<p>In order to avoid errors (due to restricted default priviliges settings in our MySQL installation) we need to move these files to a special location so that they can be loaded later. </p>

<p><code>cp tblBook.csv tblPub.csv /var/lib/mysql-files/</code></p>

<p>This will allow us to load the data in the files in a later step.</p>

<h1 id="the-mysql-prompt">The MySQL prompt</h1>

<p>Once we are all installed, issue the <code>mysql</code> command to get into the <code>mysql&gt;</code> prompt:</p>

<p><code>mysql -u root -p</code></p>

<p>This specifies that you want to use the root user to login to the MySQL prompt. </p>

<p>Next let&#39;s create a new DB. Make sure that your prompt looks like this:</p>

<p><code>mysql&gt;</code></p>

<p>If it does, then you can category:</p>

<p><code>CREATE DATABASE booksinfo;</code></p>

<p>Commands in the mysql&gt; prompt are <em>case-sensitive,</em> so pay attention to the case of the commands. </p>

<p>Let&#39;s list our DBs:</p>

<p><code>show databases;</code></p>

<p>We should see the DB with the name that we created in the list. Let&#39;s move into it:</p>

<p><code>USE booksinfo;</code></p>

<h2 id="add-tables">Add tables</h2>

<p>Now we have to create two tables so that we can import data from our CSV files.
In addition to creating the tables, we have to spcecify the column names and data types.<label for='datatypes' class='margin-toggle sidenote-number'></label><input type='checkbox' id='datatypes' class='margin-toggle'/><span class='sidenote'>SQL General Data Tyoes, W3Schools <a href="https://www.w3schools.com/sql/sql_datatypes_general.asp">https://www.w3schools.com/sql/sql_datatypes_general.asp</a> </span></p>

<p><code>CREATE TABLE tblBook (ID INT, Title VARCHAR(255), Date INT, RetailPrice DECIMAL(5,2), Copies INT, ShelfNumber VARCHAR(255), PubID INT);</code></p>

<p><code>CREATE TABLE tblPub (ID INT, Publisher VARCHAR(255), City VARCHAR(255), State VARCHAR(255), Country VARCHAR(255));</code></p>

<p>See what tables we have just created:</p>

<p><code>show tables;</code></p>

<p>Let&#39;s import some tables from the files we downloaded earlier:</p>

<p><code>LOAD DATA INFILE &#39;/var/lib/mysql-files/tblBook.csv&#39; INTO TABLE tblBook FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;;</code></p>

<p>This should give us some output. 
If we notice a warning, type the following to view the warnings:</p>

<p><code>SHOW WARNINGS;</code></p>

<p>So, it looks like we have a missing date. 
No big deal. 
We&#39;ll deal with that later. 
Let&#39;s import our other table. </p>

<p><code>LOAD DATA INFILE &#39;/var/lib/mysql-files/tblPub.csv&#39; INTO TABLE tblPub FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;;</code></p>

<p>Let&#39;s see what is in our tables:</p>

<p><code>SHOW COLUMNS FROM tblBook;</code></p>

<p><code>SHOW COLUMNS FROM tblPub;</code></p>

<p>We&#39;ll notice that we have no key set for either table. 
We need to do this, right?</p>

<p><code>ALTER TABLE tblBook ADD PRIMARY KEY (ID);</code></p>

<p>Now look at the table again and see that it has changed:</p>

<p><code>SHOW COLUMNS FROM tblBook;</code></p>

<p>Now do the same for the other table:</p>

<p><code>SHOW COLUMNS FROM tblPub;</code></p>

<p><code>ALTER TABLE tblPub ADD PRIMARY KEY (ID);</code></p>

<h1 id="for-next-time">For next time</h1>

<p>Tomorrow, we will return to databases and discuss the conceptual and theoretical underpinnings of what we worked on today. 
I would like you to read something about databases.<label for='db' class='margin-toggle sidenote-number'></label><input type='checkbox' id='db' class='margin-toggle'/><span class='sidenote'>“What Is a Database?” BBC Guides. <a href="http://www.bbc.co.uk/guides/z8yk87h">http://www.bbc.co.uk/guides/z8yk87h</a>. </span></p>

<p>We will look at other resources and tutorials in class as well. </p>


<p>
  <br/>
  <ul class="tags">
    <li><a href="/topics#database" class="tag">database</a></li><li><a href="/topics#SQL" class="tag">SQL</a></li><li><a href="/topics#MySQL" class="tag">MySQL</a></li>
  </ul> 
</p>
    </article>
    <span class="print-footer">Database software and MySQL - July 20, 2017 - </span>
    <footer>
  <div class="larger blognav">
    
      <a class="prev" href="/class/2017/07/19/scripting-data/">&laquo;&nbsp;<span class="smaller">Previous:</span>&nbsp;Scripting Data Cleaning</a>
    
    
      <a class="next" href="/class/2017/07/21/database-tables-queries/"><span class="smaller">Next:</span>&nbsp;Databases, tables, queries, and relationships&nbsp;&raquo;</a>
    
  </div>
  <hr class="slender">
  <ul class="footer-links">
    
    
      <li>
        <a href="http://johndmart.in" title="Instructor home page"><span class="ico-user"></span>&nbsp;John D. Martin III</a>
      </li>
    
    
      <li>
        <a href="mailto:john.d.martin.iii@unc.edu" title="Email instructor"><span class="ico-envelope"></span>&nbsp;john.d.martin.iii@unc.edu</a>
      </li>
    
    
      <li>
        <span class="ico-clock"></span>&nbsp;11:30-13:00
      </li>
    
    
      <li>
        <span class="ico-calendar"></span>&nbsp;MoTuWeThFr
      </li>
    
    
      <li>
        <span class="ico-library"></span>&nbsp;117 Manning Hall
      </li>
    
    
      <li>
        <a href="https://github.com/inls161" title="GitHub organization for this course"><span class="ico-github"></span></a>
      </li>
    
    
      <li>
        <a href="https://inls161.slack.com" title="Join the Slack conversations for this course"><span class="ico-slack"></span></a>
      </li>
    
    
      <li>
        <a href="/feed" title="Add RSS feed"><span class="ico-rss"></span></a>
      </li>
      
  </ul>
<div class="credits">
  <span>TOOLS FOR INFORMATION LITERACY &nbsp;&nbsp;|&nbsp;&nbsp; INLS161-001 (Summer II)
    <br/> 
  <span class="smaller">Tools and concepts for information literacy. Includes software use and maintenance, computer applications, and networked information systems.</span>
  <br/><br/>
  <span class="smaller">All content licensed under a <a target="_blank" rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</span>
  <br/>
  <span class="smaller"><a href="credits/">Content &copy; 2017 John D. Martin III</a></span>
</div>  
</footer>
    </div>
  </body>
</html>
